import{_ as i,o as e,c as a,ae as n}from"./chunks/framework.BD9pLfSD.js";const k=JSON.parse('{"title":"docker build image 時出現 no space left on device","description":"","frontmatter":{"title":"docker build image 時出現 no space left on device","date":"2016-07-09T00:00:00.000Z","tags":["docker"]},"headers":[],"relativePath":"posts/2016-07-09-docker build image 時出現 no space left on device.md","filePath":"posts/2016-07-09-docker build image 時出現 no space left on device.md","lastUpdated":1769933603000}'),t={name:"posts/2016-07-09-docker build image 時出現 no space left on device.md"};function p(l,s,r,d,h,c){return e(),a("div",null,[...s[0]||(s[0]=[n(`<p>若發現明明電腦有好多空間，但是運行docker build時仍出現 no space left on device。則可以先運行docker info，若確認出現 Storage Driver: devicemapper������������������������������，則表示你的image 過了Base Device Size������������������。 解決方法是找出docker.service，找出</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ExecStart</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/usr/bin/docker</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> daemon</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fd://�������������������������������������������������������������������������</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>變為</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ExecStart</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/usr/bin/docker</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> daemon</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --storage-opt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dm.basesize=20G</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fd://�������������������������������������������������������������������������</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>之後請先參考自行備份<a href="https://linuxconfig.org/docker-container-backup-and-recovery" target="_blank" rel="noreferrer">https://linuxconfig.org/docker-container-backup-and-recovery</a>原有的container</p><p>再執行</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl�����������</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>之後新加的image 就會增加了base size!</p>`,8)])])}const g=i(t,[["render",p]]);export{k as __pageData,g as default};
