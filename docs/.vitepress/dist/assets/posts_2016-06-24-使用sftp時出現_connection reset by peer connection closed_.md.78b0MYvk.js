import{_ as t,o,c as n,ae as s}from"./chunks/framework.BD9pLfSD.js";const h=JSON.parse('{"title":"使用sftp時出現\\"connection reset by peer connection closed\\"","description":"","frontmatter":{"title":"使用sftp時出現\\"connection reset by peer connection closed\\"","date":"2016-06-24T00:00:00.000Z","tags":["linux"]},"headers":[],"relativePath":"posts/2016-06-24-使用sftp時出現\\"connection reset by peer connection closed\\".md","filePath":"posts/2016-06-24-使用sftp時出現\\"connection reset by peer connection closed\\".md","lastUpdated":1769933603000}'),c={name:'posts/2016-06-24-使用sftp時出現"connection reset by peer connection closed".md'};function r(a,e,p,i,l,d){return o(),n("div",null,[...e[0]||(e[0]=[s('<p>若新加的sftp帳戶發現，出現connection reset by peer connection closed的錯誤訊息，應該先用cat 查看/etc/rsyslog.conf了解找出出現 auth,authpriv.*　的行數，便清楚需要查看那個log file以獲取進一步的資訊。若系統是Centos，多數是查看/var/log/secure，ubuntu 則查看 /var/log/auth.log。</p><p>以下頁面清楚說明如何fix SFTP的問題，我遇到的情況是</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sshd[12399]: fatal: bad ownership or modes for chroot directory component &quot;/path/of/chroot/directory/&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>解決方法是確保chroot的路徑的所有資料夾都是由root 擁有及所有path都是安全的。若有任何一個資料夾的權限是777，應該把資料夾改為775或755。</p><p>參考 : <a href="https://wiki.archlinux.org/index.php/SFTP_chroot" target="_blank" rel="noreferrer">https://wiki.archlinux.org/index.php/SFTP_chroot</a></p>',5)])])}const u=t(c,[["render",r]]);export{h as __pageData,u as default};
